<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>OpenWRT on Xiaomi Router | OpenWRT on Xiaomi&#39;s Mi Router 3G</title>
    <meta name="generator" content="VuePress 1.5.2">
    
    <meta name="description" content="A Perfect Match">
    <link rel="preload" href="/assets/css/0.styles.b0f7372a.css" as="style"><link rel="preload" href="/assets/js/app.3a45ee01.js" as="script"><link rel="preload" href="/assets/js/2.927d5647.js" as="script"><link rel="preload" href="/assets/js/3.b0698fce.js" as="script"><link rel="prefetch" href="/assets/js/4.785b79c8.js"><link rel="prefetch" href="/assets/js/5.fd05fae2.js"><link rel="prefetch" href="/assets/js/6.cbc823f2.js">
    <link rel="stylesheet" href="/assets/css/0.styles.b0f7372a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">OpenWRT on Xiaomi's Mi Router 3G</span></a> <div class="links"><!----> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>OpenWRT on Xiaomi Router</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/#introduction" class="sidebar-link">Introduction</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/#naming" class="sidebar-link">Naming</a></li></ul></li><li><a href="/guide/#preparations" class="sidebar-link">Preparations</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/#xiaomi-account" class="sidebar-link">Xiaomi Account</a></li><li class="sidebar-sub-header"><a href="/guide/#cable-up-for-maximum-convenience" class="sidebar-link">Cable up for maximum convenience</a></li></ul></li><li><a href="/guide/#main-process" class="sidebar-link">Main Process</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/#flash-developer-firmware-on-router" class="sidebar-link">Flash Developer Firmware on Router</a></li><li class="sidebar-sub-header"><a href="/guide/#router-setup-wizard" class="sidebar-link">Router Setup Wizard</a></li><li class="sidebar-sub-header"><a href="/guide/#pairing-router-with-xiaomi-service" class="sidebar-link">Pairing Router with Xiaomi Service</a></li><li class="sidebar-sub-header"><a href="/guide/#get-root-password-for-your-router-and-install-ssh" class="sidebar-link">Get root password for your router and install SSH</a></li><li class="sidebar-sub-header"><a href="/guide/#install-openwrt" class="sidebar-link">Install OpenWrt</a></li><li class="sidebar-sub-header"><a href="/guide/#install-openwrt-webfrontend" class="sidebar-link">Install OpenWrt Webfrontend</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="openwrt-on-xiaomi-router"><a href="#openwrt-on-xiaomi-router" class="header-anchor">#</a> OpenWRT on Xiaomi Router</h1> <h2 id="introduction"><a href="#introduction" class="header-anchor">#</a> Introduction</h2> <p>Detailed write-up including screen-shots and -grabs based on descriptions from <a href="https://forum.lede-project.org/u/dissent1" target="_blank" rel="noopener noreferrer">@dissent<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> and the <a href="https://wiki.openwrt.org/toh/xiaomi/mir3g" target="_blank" rel="noopener noreferrer">OpenWrt wiki<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> page for this router.</p> <div class="custom-block warning"><p class="custom-block-title">Disclaimer</p> <p>Although the name might imply, this router does not have 3G - or any other 3GPP  standardized - radio</p></div> <div class="custom-block danger"><p class="custom-block-title">Known Issues in OpenWRT 18.06</p> <p>The release notes of 18.06 mention as known issue <code>Devices using the mt76 wireless driver may experience stability issues on 2.4GHz</code> which might affect this device.</p></div> <div class="custom-block warning"><p class="custom-block-title">Snapshots in July 2020</p> <p>The guide is updated to link to the latest OpenWRT development snapshot images. The included uplift to Linux kernel 5.4 has subjectively create a more stable 2.4 GHz WiFi experience on this specific device.</p></div> <h3 id="naming"><a href="#naming" class="header-anchor">#</a> Naming</h3> <p>The device's literal name translated from Chinese is <em>Xiaomi Router 3G</em>, with <em>Xiaomi</em> being the company's name. There might have been earlier intentions to brand the WiFi router product line as <em>MiWiFi</em> which would explain why Xiaomi is distributing information and firmware updates at <a href="miwifi.com">miwifi.com</a>.</p> <p>OpenWrt/LEDE Project label the router's <a href="https://wiki.openwrt.org/toh/xiaomi/mir3g" target="_blank" rel="noopener noreferrer">wiki page<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> with <em>Xiaomi Mi WiFi R3G (Mi Wifi Router 3G / MIR3G / MI3G)</em> and the openwrt software uses the profile name <code>mir3g</code>.</p> <p>Recently Xiaomi has started to distribute one of their router products also in India, where a genuine <a href="http://www.mi.com/in/mi-router-3c/" target="_blank" rel="noopener noreferrer">English language page<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> calls the specific product Mi Router 3C. Based on that it can be assumed Xiaomi's intention is to use <em>Mi Router</em> as the international name for the product line, which will be used throughout this document.</p> <h2 id="preparations"><a href="#preparations" class="header-anchor">#</a> Preparations</h2> <h3 id="xiaomi-account"><a href="#xiaomi-account" class="header-anchor">#</a> Xiaomi Account</h3> <p>Create a Xiaomi account <a href="http://account.xiaomi.com" target="_blank" rel="noopener noreferrer">here<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> - this account is required to get the ssh binary and the serial number specific root password</p> <h3 id="cable-up-for-maximum-convenience"><a href="#cable-up-for-maximum-convenience" class="header-anchor">#</a> Cable up for maximum convenience</h3> <p>The web interface of Mi Router 3G is only available in Chinese. It can be translated by Chrome's inline translation function. To facilitate this the computer running browser needs to stay connected to the internet. To achieve that the router can be connected with Ethernet to that same machine.
<img src="/assets/img/connectivity.57abc741.png" alt=""></p> <p>On the interface connecting the router:</p> <ul><li>disable DHCP</li> <li>configure static addresse between 192.168.31.2 - 192.168.31.254</li> <li>configure netmask 255.255.255.0</li> <li>no default gateway</li></ul> <img src="/assets/img/0-ip-address-client.204d0b31.png" width="400"> <h2 id="main-process"><a href="#main-process" class="header-anchor">#</a> Main Process</h2> <h3 id="flash-developer-firmware-on-router"><a href="#flash-developer-firmware-on-router" class="header-anchor">#</a> Flash Developer Firmware on Router</h3> <p>Put the developer firmware for Mi Router 3G from here <a href="http://bigota.miwifi.com/xiaoqiang/rom/r3g/miwifi_r3g_firmware_c2175_2.25.122.bin" target="_blank" rel="noopener noreferrer">miwifi_r3g_firmware_c2175_2.25.122.bin<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> on a FAT formatted USB flash drive and rename to <code>miwifi.bin</code>.</p> <div class="custom-block tip"><p class="custom-block-title">MiWiFi CDN</p> <p>As of July 2020, th above link fails to download, because Xiaomi have migrated to a new CDN provider, the old firmware files got migrated but no redirects were setup. This <a href="http://cdn.cnbj1.fds.api.mi-img.com/xiaoqiang/rom/r3g/miwifi_r3g_firmware_c2175_2.25.122.bin" target="_blank" rel="noopener noreferrer">link<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> should yield the sought after firmware.</p></div> <p>Plug USB flash drive into router, hold the reset button pressed, and power the router up.</p> <p>When the yellow LED starts blinking, the flashing process has started and the reset button can be released.</p> <p>Once the router has finished flashing and has rebooted, indicated by the LED being constant blue, the setup wizard can be reached at <a href="http://192.168.1.1" target="_blank" rel="noopener noreferrer">192.168.31.1<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h3 id="router-setup-wizard"><a href="#router-setup-wizard" class="header-anchor">#</a> Router Setup Wizard</h3> <img alt="Initial Splash Screen" src="/assets/img/1st_screen.e93c62cb.png" width="400"> <table><thead><tr><th style="text-align:center;"><img src="/assets/img/2nd_screen_cn.39f86a7b.png" alt="Opt-out from user-experience and continue"></th> <th style="text-align:center;"><img src="/assets/img/2nd_screen_en.55494f81.png" alt="Opt-out from user-experience and continue"></th></tr></thead> <tbody><tr><td style="text-align:center;"><img src="/assets/img/3rd_screen_cn.3d80b558.png" alt=""></td> <td style="text-align:center;"><img src="/assets/img/3rd_screen_en.454dc84d.png" alt=""></td></tr> <tr><td style="text-align:center;"><img src="/assets/img/4th_screen_cn.4652126a.png" alt=""></td> <td style="text-align:center;"></td></tr> <tr><td style="text-align:center;"><img src="/assets/img/5th-screen-cn.5ba86da9.png" alt=""></td> <td style="text-align:center;"><img src="/assets/img/5th-screen-en.96f0245d.png" alt=""></td></tr> <tr><td style="text-align:center;"><img src="/assets/img/6th-screen-en.b8ffca53.png" alt=""></td> <td style="text-align:center;"><img src="/assets/img/6th-screen-cn.df405b60.png" alt=""></td></tr> <tr><td style="text-align:center;"><img src="/assets/img/7th_screen_cn.02268df8.png" alt=""></td> <td style="text-align:center;"><img src="/assets/img/7th_screen_en.49f6e484.png" alt=""></td></tr></tbody></table> <h3 id="pairing-router-with-xiaomi-service"><a href="#pairing-router-with-xiaomi-service" class="header-anchor">#</a> Pairing Router with Xiaomi Service</h3> <p>This step is run on an Android or iOS device.</p> <p>Install the Mi WiFi app for <a href="https://play.google.com/store/apps/details?id=com.xiaomi.router&amp;hl=en" target="_blank" rel="noopener noreferrer">Google Play Store for Android<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> or for <a href="https://itunes.apple.com/us/app/mi-wi-fi/id859962702?mt=8" target="_blank" rel="noopener noreferrer">iOS from Apples's App store<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>Start Up Mi WiFi app and login with the Xiaomi account created earlier:</p> <table><thead><tr><th style="text-align:center;"><img src="/assets/img/81-open_app.d4dd6583.png" alt=""></th> <th style="text-align:center;"><img src="/assets/img/82-sign-in-app.1582f056.png" alt=""></th></tr></thead> <tbody></tbody></table> <p>Connect to the just created WiFi network on the router through the system preferences of the mobile phone:</p> <img src="/assets/img/80-select-phone-wifi.d0d40864.png" width="400"> <p>After successfully connecting to the new WiFi network return to the Mi WiFi app and finish the pairing process. During the pairing enter the admin password of the router - which should be the same as the WiFi password.</p> <table><thead><tr><th style="text-align:center;"><img src="/assets/img/83-Screenshot_20180408-112951.b61ded38.png" alt=""></th> <th style="text-align:center;"><img src="/assets/img/84-Screenshot_20180408-113005.fbe6964e.png" alt=""></th> <th style="text-align:center;"><img src="/assets/img/85-Screenshot_20180408-113011.9303dd54.png" alt=""></th></tr></thead> <tbody></tbody></table> <p>Now the router is paired and connected to the Xiaomi account.</p> <h3 id="get-root-password-for-your-router-and-install-ssh"><a href="#get-root-password-for-your-router-and-install-ssh" class="header-anchor">#</a> Get root password for your router and install SSH</h3> <p>Navigate to <a href="https://d.miwifi.com/rom/ssh" target="_blank" rel="noopener noreferrer">Xiaomi MiWiFi support site<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> and login with your Xiaomi account.</p> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>In every step the server will rewrite the URL back to '''http://....''' and fail to load the page. Edit the URL in the location bar to read '''https://...'''</p></div> <p><img src="/assets/img/get_ssh_en.cd9faf85.png" alt=""> <img src="/assets/img/get_ssh_cn.b5a7d860.png" alt=""></p> <p>Click the button to the right and download the ssh installation package <code>miwifi_ssh.bin</code>.</p> <p>Download the OpenWrt firmware files (updated links on 20200725 to latest stable release - did not try fresh install procedure with this specific version of OpenWRT)</p> <ul><li><p><a href="https://downloads.openwrt.org/releases/19.07.3/targets/ramips/mt7621/openwrt-19.07.3-ramips-mt7621-xiaomi_mir3g-squashfs-kernel1.bin" target="_blank" rel="noopener noreferrer">https://downloads.openwrt.org/releases/19.07.3/targets/ramips/mt7621/openwrt-19.07.3-ramips-mt7621-xiaomi_mir3g-squashfs-kernel1.bin<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p><a href="https://downloads.openwrt.org/releases/19.07.3/targets/ramips/mt7621/openwrt-19.07.3-ramips-mt7621-xiaomi_mir3g-squashfs-rootfs0.bin" target="_blank" rel="noopener noreferrer">https://downloads.openwrt.org/releases/19.07.3/targets/ramips/mt7621/openwrt-19.07.3-ramips-mt7621-xiaomi_mir3g-squashfs-rootfs0.bin<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li></ul> <p>Snapshot Download - As of this writing in July 2020, the OpenWRT development snapshots for this device include Linux kernel 5.4 which subjectively have increased the stability of the 2.4 GHz WiFi experience so these are provided as an <em>alternative</em> to the above stable release. Do not mix files between stable and snapshot.</p> <div class="custom-block warning"><p class="custom-block-title">Might brick device</p> <p>As always with development snapshots that are generated nighly, there is the risk that this specific one might brick your device or be unstable in any other way. If you do not understand what exactly you are doing please read up in the OpenWRT documentation about snapshots and stability. Installing snapshots might not be for you.</p></div> <ul><li><p><a href="https://downloads.openwrt.org/snapshots/targets/ramips/mt7621/openwrt-ramips-mt7621-xiaomi_mir3g-squashfs-kernel1.bin" target="_blank" rel="noopener noreferrer">https://downloads.openwrt.org/snapshots/targets/ramips/mt7621/openwrt-ramips-mt7621-xiaomi_mir3g-squashfs-kernel1.bin<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p><a href="https://downloads.openwrt.org/snapshots/targets/ramips/mt7621/openwrt-ramips-mt7621-xiaomi_mir3g-squashfs-rootfs0.bin" target="_blank" rel="noopener noreferrer">https://downloads.openwrt.org/snapshots/targets/ramips/mt7621/openwrt-ramips-mt7621-xiaomi_mir3g-squashfs-rootfs0.bin<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li></ul> <p>Place <code>miwifi_ssh.bin</code>, <code>kernel1.bin</code> and <code>rootfs0.bin</code> on the FAT formatted USB flash drive after removing the developer firmware installation file, i.e. the <code>miwifi.bin</code> from earlier.</p> <p>Plug the USB flash drive into the router, hold the reset button pressed, and power the router up.</p> <p>When the yellow LED starts blinking, the flashing process has started and the reset button can be released. This will install  and ssh daemon to allow remote access through ssh.</p> <p>The router will reboot after installing the ssh package. Once back up the LED will turn into solid blue.</p> <h3 id="install-openwrt"><a href="#install-openwrt" class="header-anchor">#</a> Install OpenWrt</h3> <p>From a terminal connect to the router with SSH:</p> <div class="language- extra-class"><pre class="language-text"><code>ssh -l root 192.168.31.1
</code></pre></div><p>Use the router admin password for login.</p> <p>In the console type:</p> <div class="language- extra-class"><pre class="language-text"><code>cd /extdisks/sda1 #can be different if you remove and reinsert the USB flash drive
mtd write openwrt-ramips-mt7621-mir3g-squashfs-kernel1.bin kernel1
mtd write openwrt-ramips-mt7621-mir3g-squashfs-rootfs0.bin rootfs0
nvram set flag_try_sys1_failed=1
nvram commit
reboot
</code></pre></div><p>The router will reboot, once back up the LED will turn into solid blue.</p> <h3 id="install-openwrt-webfrontend"><a href="#install-openwrt-webfrontend" class="header-anchor">#</a> Install OpenWrt Webfrontend</h3> <div class="custom-block tip"><p class="custom-block-title">Installed in 19.07.3 Release</p> <p>This step is not needed when installing stable only when installing a snapshot.</p></div> <p>The OpenWrt installation will have no WiFi configured so the only way to connect is through the white Ethernet ports of the router.</p> <p>Reconfigure the interface on the machine connecting to the router to use DHCP. The computer will receive an IP address from the 192.168.1.0/24 range.</p> <p>Connect to the router through ssh</p> <div class="language- extra-class"><pre class="language-text"><code>ssh -l root 192.168.1.1
</code></pre></div><p>On the router issue</p> <div class="language- extra-class"><pre class="language-text"><code>opkg update
opkg install luci-ssl
reboot
</code></pre></div><p>The router will reboot, once back up the LED will turn into solid blue and you can connect to the <a href="https://192.168.1.1/" target="_blank" rel="noopener noreferrer">web-frontend<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.3a45ee01.js" defer></script><script src="/assets/js/2.927d5647.js" defer></script><script src="/assets/js/3.b0698fce.js" defer></script>
  </body>
</html>
